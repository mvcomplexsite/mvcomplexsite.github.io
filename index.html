<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <title>MVComplex — MVZ</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description" content="MVZ — GUI DPI приложение с сменой DNS-серверов. Качественный аналог DNS Jumper в виде .exe-приложения для Windows." />
  <link rel="stylesheet" href="styles.css" />
</head>

<body>
  <header class="nav-outer">
    <div class="nav container">
      <a class="nav-logo" href="#home">MVComplex</a>

      <nav class="nav-menu">
        <a href="#home">Главная</a>
        <a href="#mvz">MVZ</a>
        <a href="#news">Новости</a>

        <button class="nav-disclaimer" type="button" data-modal-open="mvz-disclaimer">
          Дисклеймер
        </button>

        <a href="#contact">Контакты</a>
      </nav>

    </div>
  </header>

  <!-- Sticky mini CTA (появляется после hero) -->
  <div class="sticky-cta" id="sticky-cta" aria-hidden="true">
    <div class="sticky-cta-inner container">
      <button class="sticky-close" type="button" aria-label="Закрыть" title="Закрыть">×</button>

      <div class="sticky-cta-left">
        <div class="sticky-cta-title">MVZ</div>
        <div class="sticky-cta-meta">
          <span class="sticky-pill">Windows 10/11</span>
          <span class="sticky-sep">•</span>
          <span class="sticky-meta">Версия: <b id="release-version-cta">MVZ</b></span>
          <span class="sticky-sep">•</span>
          <span class="sticky-meta">Дата: <b id="release-date-cta">—</b></span>
        </div>
      </div>

      <div class="sticky-cta-right">
        <a class="btn primary small js-download"
           href="https://github.com/mvcomplexsite/mvcomplexsite.github.io/releases/download/MVZ/MVZ_Setup.exe"
           target="_blank" rel="noopener">Скачать</a>

        <button class="btn ghost small" type="button" data-modal-open="mvz-changelog">
          Changelog
        </button>
      </div>
    </div>
  </div>

  <main>
    <!-- HERO -->
    <section id="home" class="hero">
      <div class="hero-blobs" aria-hidden="true">
        <div class="blob b1"></div>
        <div class="blob b2"></div>
        <div class="blob b3"></div>
      </div>

      <div class="container hero-inner reveal" id="hero-sentinel">
        <div class="hero-top">
          <img class="hero-logo" src="assets/logo-mvz.jpg" alt="MVZ logo" />
          <div class="hero-title-wrap">
            <h1 class="hero-title">MVZ</h1>
            <div class="hero-tagline">by MVComplex</div>
          </div>
        </div>

        <p class="hero-subtitle">
          MVZ — клиент для смены DNS серверов.
          Более качественный аналог DNS Jumper в виде .exe‑приложения для Windows
        </p>

        <div class="hero-buttons">
          <a class="btn primary js-download"
             href="https://github.com/mvcomplexsite/mvcomplexsite.github.io/releases/download/MVZ/MVZ_Setup.exe"
             target="_blank" rel="noopener">Скачать для Windows (.exe)</a>

          <a class="btn ghost" href="#mvz">Описание</a>
        </div>

        <div class="hero-trust" aria-label="Trust bar">
          <span class="trust-chip">Windows 10/11</span>

          <a class="trust-chip action js-release-link"
             href="https://github.com/mvcomplexsite/mvcomplexsite.github.io/releases/tag/MVZ"
             target="_blank" rel="noopener">Релиз</a>

          <button class="trust-chip action" type="button" data-modal-open="mvz-changelog">
            Changelog
          </button>

          <button class="trust-chip action" type="button" data-modal-open="mvz-help">
            Подсказки
          </button>
        </div>

        <div class="hero-pills">
          <span class="pill">DNS Servers</span>
          <span class="pill">Windows</span>
          <span class="pill">Автообновление</span>
          <span class="pill">Темы UI</span>
        </div>

        <div class="hero-strip">
          <div class="strip-item">
            <div class="strip-k">Текущая версия</div>
            <div class="strip-v" id="release-version">MVZ</div>
          </div>

          <div class="strip-sep"></div>

          <div class="strip-item">
            <div class="strip-k">Дата релиза</div>
            <div class="strip-v" id="release-date">—</div>
          </div>

          <div class="strip-sep"></div>

          <div class="strip-item">
            <div class="strip-k">Канал</div>
            <a class="strip-v link" href="https://t.me/motyait2" target="_blank" rel="noopener">t.me/motyait2</a>
          </div>

          <div class="strip-sep"></div>

          <div class="strip-item">
            <div class="strip-k">Платформа</div>
            <div class="strip-v">Windows</div>
          </div>
        </div>

        <!-- Projects (свернули, чтобы не повторялось в лоб) -->
        <details class="details-card" id="projects">
          <summary class="details-summary">
            <span class="details-title">Проекты</span>
            <span class="details-subtitle">Сейчас основной фокус — MVZ.</span>
            <span class="details-chevron" aria-hidden="true">▾</span>
          </summary>

          <div class="details-body">
            <div class="cards compact">
              <article class="card featured">
                <h3 class="card-title">
                  <img class="card-mini-logo" src="assets/logo-mvz.jpg" alt="MVZ logo" />
                  <span>MVZ</span>
                </h3>
                <p>Оптимизация через DNS‑серверы. Windows‑клиент с автообновлением и темами.</p>
                <a href="#mvz" class="card-link">Перейти к описанию →</a>
              </article>

              <article class="card muted">
                <h3>Другие продукты MV</h3>
                <p>В разработке.</p>
              </article>
            </div>
          </div>
        </details>
      </div>
    </section>

    <!-- MVZ -->
    <section id="mvz" class="section mvz">
      <div class="container">
        <div class="section-head reveal">
          <h2 class="section-title">MVZ — GUI приложение для смены DNS серверов</h2>
          <p class="section-subtitle">
            MVZ помогает оптимизировать пинг в играх, с помощью DNS‑серверов.
          </p>
        </div>

        <!-- CHANGELOG PREVIEW -->
        <div class="changelog reveal">
          <div class="changelog-head">
            <div class="changelog-text">
              <div class="changelog-title">
                Изменения —
                <span class="release-badge" id="release-version-2">MVZ</span>
              </div>
              <div class="changelog-sub">
                Дата: <span id="release-date-2">—</span>
              </div>
            </div>

            <div class="changelog-actions">
              <button class="btn ghost small changelog-action" type="button" data-modal-open="mvz-changelog">
                Открыть
              </button>

              <a class="btn ghost small changelog-action js-release-link"
                 href="https://github.com/mvcomplexsite/mvcomplexsite.github.io/releases/tag/MVZ"
                 target="_blank" rel="noopener">Релиз</a>
            </div>
          </div>

          <div class="release-notes compact" id="release-notes-preview">
            <div class="notes-skeleton"></div>
            <div class="notes-skeleton"></div>
            <div class="notes-skeleton"></div>
          </div>
        </div>

        <div class="grid-2 reveal">
          <div class="card glass">
            <h3>Что умеет</h3>
            <ul class="list">
              <li>DNS‑MVZ: быстрый способ "оптимизировать" пинг</li>
              <li>Автообновление: приложение само проверяет новые версии и обновляется.</li>
              <li>Темы интерфейса: тёмные и неоновые схемы (MVZ‑стиль).</li>
              <li>Простая настройка DNS‑профилей/серверов (в пару кликов).</li>
            </ul>

            <div class="callout">
              <div class="callout-title">Важно при переходе с 1.4.1</div>
              <div class="callout-text">
                Если MVZ 1.4.1 ставили инсталлятором — скачайте новый установщик чтобы установить MVZ 1.5.
              </div>
            </div>

            <div class="faq-cta">
              <button class="btn ghost small" type="button" data-modal-open="mvz-faq">
                Открыть FAQ
              </button>
            </div>
          </div>

          <div class="card glass mvz-panel">
            <div class="mvz-panel-header">
              <span class="dot red"></span>
              <span class="dot yellow"></span>
              <span class="dot green"></span>
              <span class="mvz-panel-title">MVZ status</span>
            </div>

            <div class="mvz-panel-body">
              <div class="mvz-status">
                <span class="mvz-status-label">Статус:</span>
                <span class="mvz-status-value">Включено</span>
              </div>
              <div class="mvz-server">
                <span class="mvz-status-label">DNS:</span>
                <span class="mvz-status-value">Alt11 MVZ</span>
              </div>

              <div class="mvz-downloads">
                <a href="https://github.com/mvcomplexsite/mvcomplexsite.github.io/releases/download/MVZ/MVZ_Setup.exe"
                   class="btn primary js-download" target="_blank" rel="noopener">Скачать установщик (.exe)</a>

                <button class="btn ghost" type="button" data-modal-open="mvz-changelog">
                  Changelog
                </button>
              </div>

              <div class="install-mini" aria-label="Установка">
                <div class="install-mini-title">Установка</div>
                <ol class="install-mini-list">
                  <li>Скачай установщик (.exe) и запусти.</li>
                  <li>Открой MVZ и выбери DNS‑профиль.</li>
                  <li>Включи MVZ и проверь пинг.</li>
                </ol>

                <button class="btn ghost small install-mini-link" type="button" data-modal-open="mvz-help">
                  Если не заработало →
                </button>
              </div>
            </div>
          </div>
        </div>

        <!-- Product “divider” -->
        <div class="section-divider reveal" aria-hidden="true"></div>
      </div>
    </section>

    <!-- TELEGRAM -->
    <section id="news" class="section">
      <div class="container reveal">
        <h2 class="section-title">Новости (Telegram)</h2>
        <p class="section-subtitle">Посты из Telegram‑канала.</p>

        <div class="tg-grid">
          <div class="tg-card">
            <script async src="https://telegram.org/js/telegram-widget.js?22"
                    data-telegram-post="motyait2/66"
                    data-width="100%"
                    data-userpic="true"></script>
          </div>

          <div class="tg-card">
            <script async src="https://telegram.org/js/telegram-widget.js?22"
                    data-telegram-post="motyait2/57"
                    data-width="100%"
                    data-userpic="true"></script>
          </div>
        </div>

        <div class="tg-more">
          <a class="btn ghost" href="https://t.me/motyait2" target="_blank" rel="noopener">Открыть Telegram</a>
        </div>
      </div>
    </section>

    <!-- CONTACT -->
    <section id="contact" class="section">
      <div class="container reveal">
        <h2 class="section-title">Контакты</h2>
        <p class="section-subtitle">Баги/идеи/предложения — пиши.</p>

        <div class="contacts">
          <a href="https://t.me/motyait2" target="_blank" rel="noopener">Telegram</a>
          <a href="https://github.com/MVComplex" target="_blank" rel="noopener">GitHub</a>
          <a href="mailto:MVComplexsite@gmail.com">Почта</a>

          <button class="contact-support" type="button" data-modal-open="mvz-support">
            Техподдержка
          </button>
        </div>
      </div>
    </section>
  </main>

  <footer class="footer">
    <div class="footer-inner container">
      <span>© MVComplex, 2026</span>
    </div>
  </footer>

  <!-- Modal: Help -->
  <div class="modal" id="mvz-help" aria-hidden="true">
    <div class="modal-overlay" data-modal-close></div>

    <div class="modal-card" role="dialog" aria-modal="true" aria-labelledby="mvz-help-title">
      <button class="modal-close" type="button" data-modal-close aria-label="Закрыть">×</button>

      <h3 class="modal-title" id="mvz-help-title">Если MVZ не работает</h3>
      <p class="modal-sub">
        Проверь антивирус/защиту, запуск от администратора и попробуй другой DNS‑профиль.
      </p>

      <div class="modal-actions">
        <button class="btn ghost small" type="button" data-modal-close>Закрыть</button>
        <a class="btn primary small js-download"
           href="https://github.com/mvcomplexsite/mvcomplexsite.github.io/releases/download/MVZ/MVZ_Setup.exe"
           target="_blank" rel="noopener">Скачать .exe</a>
      </div>
    </div>
  </div>

  <!-- Modal: Changelog -->
  <div class="modal" id="mvz-changelog" aria-hidden="true">
    <div class="modal-overlay" data-modal-close></div>

    <div class="modal-card" role="dialog" aria-modal="true" aria-labelledby="mvz-changelog-title">
      <button class="modal-close" type="button" data-modal-close aria-label="Закрыть">×</button>

      <h3 class="modal-title" id="mvz-changelog-title">
        Changelog — <span class="release-badge" id="release-version-3">MVZ</span>
      </h3>
      <p class="modal-sub">
        Дата: <span id="release-date-3">—</span>
      </p>

      <div class="modal-actions" style="margin-bottom: 10px;">
        <a class="btn primary small js-release-link"
           href="https://github.com/mvcomplexsite/mvcomplexsite.github.io/releases/tag/MVZ"
           target="_blank" rel="noopener">Открыть релиз</a>
        <button class="btn ghost small" type="button" data-modal-close>Закрыть</button>
      </div>

      <div class="release-notes" id="release-notes-full">
        <div class="notes-skeleton"></div>
        <div class="notes-skeleton"></div>
        <div class="notes-skeleton"></div>
        <div class="notes-skeleton"></div>
      </div>
    </div>
  </div>

  <!-- Modal: FAQ -->
  <div class="modal" id="mvz-faq" aria-hidden="true">
    <div class="modal-overlay" data-modal-close></div>

    <div class="modal-card" role="dialog" aria-modal="true" aria-labelledby="mvz-faq-title">
      <button class="modal-close" type="button" data-modal-close aria-label="Закрыть">×</button>

      <h3 class="modal-title" id="mvz-faq-title">FAQ</h3>
      <p class="modal-sub">Коротко и по делу.</p>

      <div class="faq-list">
        <div class="faq-row">
          <div class="faq-q">MVZ — это VPN?</div>
          <div class="faq-a">Нет. MVZ — оптимизация через DNS‑серверы (не VPN).</div>
        </div>

        <div class="faq-row">
          <div class="faq-q">MVZ — это Zapret?</div>
          <div class="faq-a">Нет, это аналог DNS Jumper в виде удобного .exe под Windows.</div>
        </div>
      </div>

      <div class="modal-actions" style="margin-top:12px;">
        <button class="btn ghost small" type="button" data-modal-close>Закрыть</button>
      </div>
    </div>
  </div>

  <!-- Modal: Disclaimer -->
  <div class="modal" id="mvz-disclaimer" aria-hidden="true">
    <div class="modal-overlay" data-modal-close></div>

    <div class="modal-card" role="dialog" aria-modal="true" aria-labelledby="mvz-disclaimer-title">
      <button class="modal-close" type="button" data-modal-close aria-label="Закрыть">×</button>

      <h3 class="modal-title" id="mvz-disclaimer-title">Отказ от ответственности (Disclaimer)</h3>

      <ol class="modal-list">
        <li>
          <b>Назначение Программного обеспечения</b><br>
          Данное программное обеспечение (далее — «ПО») разработано исключительно в целях технической оптимизации сетевого соединения,
          стабилизации маршрутов передачи данных и снижения задержки (пинга) в онлайн-играх. ПО работает путем перенаправления игровых
          сетевых запросов через оптимальные узлы или изменения локальных настроек разрешения имен (DNS).
        </li>
        <li>
          <b>Соблюдение законодательства</b><br>
          Разработчики ПО действуют в рамках законодательства Российской Федерации. Данный инструмент не является средством для обхода
          ограничений доступа к информационным ресурсам, заблокированным на территории РФ. Разработчики не пропагандируют, не поощряют
          и не предоставляют инструкции по использованию ПО для получения доступа к запрещенному контенту.
        </li>
        <li>
          <b>Ответственность пользователя</b><br>
          Использование ПО для целей, нарушающих законодательство страны нахождения пользователя, категорически запрещено.
          Пользователь несет единоличную ответственность за любые действия, совершенные с использованием данного ПО.
        </li>
        <li>
          <b>Отсутствие гарантий</b><br>
          ПО предоставляется по принципу «как есть» (as is).
        </li>
        <li>
          <b>Изменение условий</b><br>
          Разработчики оставляют за собой право вносить изменения в работу ПО.
        </li>
      </ol>

      <div class="modal-actions">
        <button class="btn ghost small" type="button" data-modal-close>Ок</button>
      </div>
    </div>
  </div>

  <!-- Modal: Support -->
  <div class="modal" id="mvz-support" aria-hidden="true">
    <div class="modal-overlay" data-modal-close></div>

    <div class="modal-card" role="dialog" aria-modal="true" aria-labelledby="mvz-support-title">
      <button class="modal-close" type="button" data-modal-close aria-label="Закрыть">×</button>

      <h3 class="modal-title" id="mvz-support-title">Техподдержка</h3>
      <p class="modal-sub">Для связи — Telegram или почта.</p>

      <div class="modal-actions">
        <a class="btn primary small" href="https://t.me/motyait2" target="_blank" rel="noopener">Написать в Telegram</a>
        <a class="btn ghost small" href="mailto:MVComplexsite@gmail.com">Почта</a>
      </div>
    </div>
  </div>

  <script>
    // Reveal
    const items = document.querySelectorAll('.reveal');
    const io = new IntersectionObserver((entries) => {
      entries.forEach(e => {
        if (e.isIntersecting) {
          e.target.classList.add('is-visible');
          io.unobserve(e.target);
        }
      });
    }, { threshold: 0.12 });
    items.forEach(i => io.observe(i));

    // Scrollspy
    (function(){
      const links = Array.from(document.querySelectorAll('.nav-menu a[href^="#"]'));
      const map = new Map();
      links.forEach(a => {
        const id = a.getAttribute('href').slice(1);
        const el = document.getElementById(id);
        if (el) map.set(id, a);
      });
      if (!map.size) return;

      const spy = new IntersectionObserver((entries) => {
        const visible = entries
          .filter(e => e.isIntersecting)
          .sort((a, b) => b.intersectionRatio - a.intersectionRatio)[0];
        if (!visible) return;

        const id = visible.target.id;
        links.forEach(a => a.classList.remove('is-active'));
        const active = map.get(id);
        if (active) active.classList.add('is-active');
      }, { rootMargin: "-45% 0px -52% 0px", threshold: [0.06, 0.12, 0.2, 0.35] });

      map.forEach((_, id) => {
        const el = document.getElementById(id);
        if (el) spy.observe(el);
      });
    })();

    // Modal open/close
    (function(){
      const body = document.body;
      let lastActive = null;

      function getFocusable(root){
        return Array.from(root.querySelectorAll(
          'a[href], button:not([disabled]), textarea, input, select, [tabindex]:not([tabindex="-1"])'
        ));
      }

      function openModal(id){
        const modal = document.getElementById(id);
        if (!modal) return;

        lastActive = document.activeElement;

        modal.classList.add('is-open');
        modal.setAttribute('aria-hidden', 'false');
        body.classList.add('modal-open');

        const focusables = getFocusable(modal);
        (focusables[0] || modal).focus();

        const onKey = (e) => {
          if (e.key === 'Escape') closeModal(modal);
          if (e.key !== 'Tab') return;

          const f = getFocusable(modal);
          if (!f.length) return;

          const first = f[0];
          const last = f[f.length - 1];
          const active = document.activeElement;

          if (e.shiftKey && active === first) {
            e.preventDefault();
            last.focus();
          } else if (!e.shiftKey && active === last) {
            e.preventDefault();
            first.focus();
          }
        };

        modal._onKey = onKey;
        document.addEventListener('keydown', onKey);
      }

      function closeModal(modal){
        if (!modal) return;

        modal.classList.remove('is-open');
        modal.setAttribute('aria-hidden', 'true');
        body.classList.remove('modal-open');

        if (modal._onKey) {
          document.removeEventListener('keydown', modal._onKey);
          modal._onKey = null;
        }

        if (lastActive && typeof lastActive.focus === 'function') lastActive.focus();
        lastActive = null;
      }

      document.addEventListener('click', (e) => {
        const opener = e.target.closest('[data-modal-open]');
        if (opener) {
          e.preventDefault();
          openModal(opener.getAttribute('data-modal-open'));
          return;
        }

        const closer = e.target.closest('[data-modal-close]');
        if (closer) {
          const modal = closer.closest('.modal');
          closeModal(modal);
        }
      });
    })();

    // Sticky CTA show/hide + dismiss
    (function(){
      const bar = document.getElementById('sticky-cta');
      const hero = document.getElementById('hero-sentinel');
      if (!bar || !hero) return;

      const closeBtn = bar.querySelector('.sticky-close');
      const STORAGE_KEY = 'mvz_sticky_dismissed_v1';

      function setVisible(on){
        if (on) {
          bar.classList.add('is-visible');
          bar.setAttribute('aria-hidden', 'false');
        } else {
          bar.classList.remove('is-visible');
          bar.setAttribute('aria-hidden', 'true');
        }
      }

      try{
        if (localStorage.getItem(STORAGE_KEY) === '1') {
          setVisible(false);
          return;
        }
      }catch(_){}

      if (closeBtn) {
        closeBtn.addEventListener('click', () => {
          setVisible(false);
          try{ localStorage.setItem(STORAGE_KEY, '1'); }catch(_){}
        });
      }

      const obs = new IntersectionObserver((entries) => {
        const isHeroVisible = entries[0]?.isIntersecting;
        if (isHeroVisible) setVisible(false);
        else setVisible(true);
      }, { threshold: 0.2 });

      obs.observe(hero);
    })();

    // GitHub release (tag MVZ): version/date/link + body -> список
    (function(){
      const OWNER = 'mvcomplexsite';
      const REPO = 'mvcomplexsite.github.io';
      const TAG = 'MVZ';
      const API_BY_TAG = `https://api.github.com/repos/${OWNER}/${REPO}/releases/tags/${TAG}`;

      const releaseLinks = Array.from(document.querySelectorAll('.js-release-link'));
      const v1 = document.getElementById('release-version');
      const v2 = document.getElementById('release-version-2');
      const v3 = document.getElementById('release-version-3');
      const v4 = document.getElementById('release-version-cta');

      const d1 = document.getElementById('release-date');
      const d2 = document.getElementById('release-date-2');
      const d3 = document.getElementById('release-date-3');
      const d4 = document.getElementById('release-date-cta');

      const notesPreview = document.getElementById('release-notes-preview');
      const notesFull = document.getElementById('release-notes-full');

      function fmtDate(iso){
        try{
          const dt = new Date(iso);
          const dd = String(dt.getDate()).padStart(2,'0');
          const mm = String(dt.getMonth()+1).padStart(2,'0');
          const yy = dt.getFullYear();
          return `${dd}.${mm}.${yy}`;
        }catch(_){ return '—'; }
      }

      function escapeHtml(s){
        return String(s)
          .replaceAll('&','&amp;')
          .replaceAll('<','&lt;')
          .replaceAll('>','&gt;')
          .replaceAll('"','&quot;')
          .replaceAll("'","&#039;");
      }

      function stripMd(s){
        if (!s) return '';
        let t = String(s);
        t = t.replace(/\[([^\]]+)\]\([^)]+\)/g, '$1');
        t = t.replace(/^\s{0,3}#{1,6}\s+/gm, '');
        t = t.replace(/[*_`]/g, '');
        return t.trim();
      }

      function bodyToItems(body, maxItems){
        const t = stripMd(body);
        const lines = t.split('\n').map(x => x.trim()).filter(Boolean);
        const bullet = lines.map(x => x.replace(/^[-•*]\s+/, '').trim()).filter(Boolean);
        return (bullet.length ? bullet : lines).slice(0, maxItems);
      }

      function renderNotes(targetEl, items, compact){
        if (!targetEl) return;
        if (!items || !items.length){
          targetEl.innerHTML = `<div class="notes-empty">Описание релиза не заполнено.</div>`;
          return;
        }
        const li = (compact ? items.slice(0,4) : items).map(x => `<li>${escapeHtml(x)}</li>`).join('');
        targetEl.innerHTML = `<ul>${li}</ul>`;
      }

      fetch(API_BY_TAG)
        .then(r => r.ok ? r.json() : Promise.reject(r))
        .then(rel => {
          const version = (rel.name && String(rel.name).trim()) || rel.tag_name || 'MVZ';
          const date = rel.published_at ? fmtDate(rel.published_at) : '—';

          if (v1) v1.textContent = version;
          if (v2) v2.textContent = version;
          if (v3) v3.textContent = version;
          if (v4) v4.textContent = version;

          if (d1) d1.textContent = date;
          if (d2) d2.textContent = date;
          if (d3) d3.textContent = date;
          if (d4) d4.textContent = date;

          if (rel.html_url){
            releaseLinks.forEach(a => a.setAttribute('href', rel.html_url));
          }

          const items = bodyToItems(rel.body || '', 16);
          renderNotes(notesPreview, items, true);
          renderNotes(notesFull, items, false);
        })
        .catch(() => {});
    })();
  </script>
</body>
</html>
